(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={section:"Section_section__3h2KP",container:"Section_container__3ZUbX"}},12:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__2-egn",button:"ImageGallery_button__30eCm"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__FWCc_",modal:"Modal_modal__2StM4"}},16:function(e,t,a){e.exports={button:"Button_button__2Dmns"}},18:function(e,t,a){e.exports={loader:"Loader_loader__2ljJ9"}},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(9),c=a.n(r),s=a(3),i=a(4),l=a(6),u=a(5),h=a(11),m=a.n(h),b=a(0),d=function(e){var t=e.children;return Object(b.jsx)("section",{className:m.a.section,children:Object(b.jsx)("div",{className:m.a.container,children:t})})},j=a(7),p=a.n(j),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={name:""},e.handleNameChange=function(t){e.setState({name:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.name),e.setState({name:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(b.jsx)("header",{className:p.a.searchbar,children:Object(b.jsxs)("form",{className:p.a.form,onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:p.a.formButton,children:Object(b.jsx)("span",{className:p.a.formButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:p.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.name,onChange:this.handleNameChange})]})})}}]),a}(n.PureComponent),g=f,O=a(14),_=a(15),y=a(8),x=a.n(y),v=function(e){var t=e.srs,a=e.alt,n=e.onClick,o=e.largeImageURL,r=e.myRef;return Object(b.jsx)(b.Fragment,{children:r?Object(b.jsx)("li",{ref:r,className:x.a.item,onClick:function(){return n(o,a)},children:Object(b.jsx)("img",{className:x.a.image,src:t,alt:a,loading:"lazy"})}):Object(b.jsx)("li",{className:x.a.item,onClick:function(){return n(o,a)},children:Object(b.jsx)("img",{className:x.a.image,src:t,alt:a,loading:"lazy"})})})},k=a(16),S=a.n(k),w=function(e){var t=e.onClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{type:"button",className:S.a.button,onClick:function(){return t()},children:"Load more"})})},C=a(17),N=a.n(C),R=(a(44),a(18)),F=a.n(R),L=function(){return Object(b.jsx)(N.a,{className:F.a.loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e5})};var M=a(12),B=a.n(M),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={image:[],status:"",page:1,myRef:o.a.createRef()},e.nextPage=function(){e.setState({page:e.state.page+1})},e.scroll=function(e){e.current.scrollIntoView({behavior:"smooth",block:"end"})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.searchName===this.props.searchName&&t.page===this.state.page||(this.setState({image:[],status:"load"}),function(e,t){var a="https://pixabay.com/api/"+"?q=".concat(e,"&page=").concat(t,"&key=").concat("23933594-99c5d6abfa76120a4e36d3057","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong."))}))}(this.props.searchName,this.state.page).then((function(e){e.hits[0]=Object(_.a)(Object(_.a)({},e.hits[0]),{},{myRef:a.state.myRef}),a.setState({image:[].concat(Object(O.a)(a.state.image),Object(O.a)(e.hits)),status:"done"}),a.scroll(a.state.myRef)})))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("ul",{className:B.a.gallery,children:[this.state.image.map((function(t){return Object(b.jsx)(v,{onClick:e.props.onClick,srs:t.webformatURL,alt:t.tags,largeImageURL:t.largeImageURL,myRef:t.myRef},t.id)})),"load"===this.state.status&&Object(b.jsx)(L,{})]}),"done"===this.state.status&&Object(b.jsx)("div",{className:B.a.button,children:Object(b.jsx)(w,{onClick:this.nextPage})})]})}}]),a}(n.PureComponent),P=I,U=a(13),A=a.n(U),D=document.querySelector("#modal-root"),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(b.jsx)("div",{className:A.a.overlay,onClick:this.handleBackdropClick,children:Object(b.jsx)("div",{className:A.a.modal,children:Object(b.jsx)("img",{src:this.props.src,alt:this.props.alt})})}),D)}}]),a}(n.PureComponent),E=z,q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchName:"",showModal:!1,option:{}},e.toggleModal=function(t,a){e.setState((function(e){return{showModal:!e.showModal,option:{imageSrc:t,imageAlt:a}}}))},e.handleFormSubmit=function(t){e.setState({searchName:t})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{onSubmit:this.handleFormSubmit}),Object(b.jsx)(d,{children:Object(b.jsx)(P,{searchName:this.state.searchName,onClick:this.toggleModal})}),this.state.showModal&&Object(b.jsx)(E,{src:this.state.option.imageSrc,alt:this.state.option.imageAlt,onClose:this.toggleModal})]})}}]),a}(n.Component),G=q;a(45);c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.querySelector("#root"))},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2czRb",form:"Searchbar_form__2h1zE",formButton:"Searchbar_formButton__23ghR",formButtonLabel:"Searchbar_formButtonLabel__2iUZ_",input:"Searchbar_input__2qFrE"}},8:function(e,t,a){e.exports={item:"ImageGalleyItem_item__zJA73",image:"ImageGalleyItem_image__1Hcui"}}},[[46,1,2]]]);
//# sourceMappingURL=main.a0adb682.chunk.js.map