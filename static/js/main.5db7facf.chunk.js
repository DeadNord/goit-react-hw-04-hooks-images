(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={section:"Section_section__3h2KP",container:"Section_container__3ZUbX"}},11:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__2-egn",button:"ImageGallery_button__30eCm"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__FWCc_",modal:"Modal_modal__2StM4"}},15:function(e,t,a){e.exports={button:"Button_button__2Dmns"}},17:function(e,t,a){e.exports={loader:"Loader_loader__2ljJ9"}},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2czRb",form:"Searchbar_form__2h1zE",formButton:"Searchbar_formButton__23ghR",formButtonLabel:"Searchbar_formButtonLabel__2iUZ_",input:"Searchbar_input__2qFrE"}},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),o=a.n(r),s=a(3),i=a(10),l=a.n(i),u=a(0),j=function(e){var t=e.children;return Object(u.jsx)("section",{className:l.a.section,children:Object(u.jsx)("div",{className:l.a.container,children:t})})},b=a(4),m=a.n(b);var f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(u.jsx)("header",{className:m.a.searchbar,children:Object(u.jsxs)("form",{className:m.a.form,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(u.jsx)("button",{type:"submit",className:m.a.formButton,children:Object(u.jsx)("span",{className:m.a.formButtonLabel,children:"Search"})}),Object(u.jsx)("input",{className:m.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},h=a(13),d=a(14),O=a(6),_=a.n(O),g=function(e){var t=e.srs,a=e.alt,n=e.onClick,c=e.largeImageURL,r=e.myRef;return Object(u.jsx)(u.Fragment,{children:r?Object(u.jsx)("li",{ref:r,className:_.a.item,onClick:function(){return n(c,a)},children:Object(u.jsx)("img",{className:_.a.image,src:t,alt:a,loading:"lazy"})}):Object(u.jsx)("li",{className:_.a.item,onClick:function(){return n(c,a)},children:Object(u.jsx)("img",{className:_.a.image,src:t,alt:a,loading:"lazy"})})})},x=a(15),p=a.n(x),v=function(e){var t=e.onClick;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{type:"button",className:p.a.button,onClick:function(){return t()},children:"Load more"})})},y=a(16),S=a.n(y),k=(a(43),a(17)),N=a.n(k),w=function(){return Object(u.jsx)(S.a,{className:N.a.loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e5})};var C=a(11),L=a.n(C);var R=function(e){var t=e.searchName,a=e.onClick,r=Object(n.useState)([]),o=Object(s.a)(r,2),i=o[0],l=o[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),m=b[0],f=b[1],O=Object(n.useState)(1),_=Object(s.a)(O,2),x=_[0],p=_[1],y=Object(n.useState)(c.a.createRef()),S=Object(s.a)(y,1)[0],k=Object(n.useState)(""),N=Object(s.a)(k,2),C=N[0],R=N[1];return Object(n.useEffect)((function(){t&&(t!==C&&(p(1),l([])),f("load"),function(e,t){var a="https://pixabay.com/api/"+"?q=".concat(e,"&page=").concat(t,"&key=").concat("23933594-99c5d6abfa76120a4e36d3057","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong."))}))}(t,x).then((function(e){e.hits[0]=Object(d.a)(Object(d.a)({},e.hits[0]),{},{myRef:S}),R(t),l([].concat(Object(h.a)(i),Object(h.a)(e.hits))),S.current.scrollIntoView({behavior:"smooth",block:"end"}),f("done")})))}),[C,t,x]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("ul",{className:L.a.gallery,children:[i.map((function(e){return Object(u.jsx)(g,{onClick:a,srs:e.webformatURL,alt:e.tags,largeImageURL:e.largeImageURL,myRef:e.myRef},e.id)})),"load"===m&&Object(u.jsx)(w,{})]}),"done"===m&&Object(u.jsx)("div",{className:L.a.button,children:Object(u.jsx)(v,{onClick:function(){p((function(e){return e+1}))}})})]})},F=a(12),I=a.n(F),B=document.querySelector("#modal-root");var E=function(e){var t=e.src,a=e.alt,c=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&c()};return Object(r.createPortal)(Object(u.jsx)("div",{className:I.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(u.jsx)("div",{className:I.a.modal,children:Object(u.jsx)("img",{src:t,alt:a})})}),B)};var z=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],b=Object(n.useState)({}),m=Object(s.a)(b,2),h=m[0],d=m[1],O=function(e,t){l(!i),d({imageSrc:e,imageAlt:t})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{onSubmit:function(e){c(e)}}),Object(u.jsx)(j,{children:Object(u.jsx)(R,{searchName:a,onClick:O})}),i&&Object(u.jsx)(E,{src:h.imageSrc,alt:h.imageAlt,onClose:O})]})};a(44);o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.querySelector("#root"))},6:function(e,t,a){e.exports={item:"ImageGalleyItem_item__zJA73",image:"ImageGalleyItem_image__1Hcui"}}},[[45,1,2]]]);
//# sourceMappingURL=main.5db7facf.chunk.js.map